# üîß –ë—ã—Å—Ç—Ä–æ–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—à–∏–±–∫–∏ click_analytics RLS

## ‚ùå –û—à–∏–±–∫–∞:
```
Error: Failed to run sql query: ERROR: 42809: ALTER action DISABLE ROW SECURITY cannot be performed on relation "click_analytics"
DETAIL: This operation is not supported for views.
```

## ‚úÖ –†–µ—à–µ–Ω–∏–µ:

**`click_analytics` - —ç—Ç–æ VIEW (–ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ), –∞ –Ω–µ —Ç–∞–±–ª–∏—Ü–∞.** RLS –Ω–µ–ª—å–∑—è –æ—Ç–∫–ª—é—á–∞—Ç—å –Ω–∞ VIEW.

### –í–∞—Ä–∏–∞–Ω—Ç 1: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –±–µ–∑–æ–ø–∞—Å–Ω—É—é —Ñ—É–Ω–∫—Ü–∏—é (–†–ï–ö–û–ú–ï–ù–î–£–ï–¢–°–Ø)

–í—ã–ø–æ–ª–Ω–∏ –≤ Supabase SQL Editor:

```sql
-- –°–Ω–∞—á–∞–ª–∞ —Å–æ–∑–¥–∞–π —Ñ—É–Ω–∫—Ü–∏—é (–µ—Å–ª–∏ –µ—â–µ –Ω–µ —Å–æ–∑–¥–∞–Ω–∞)
-- –°–º. —Ñ–∞–π–ª: sql/safe-disable-rls.sql

-- –ó–∞—Ç–µ–º –∏—Å–ø–æ–ª—å–∑—É–π –µ—ë –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ–≥–æ –æ—Ç–∫–ª—é—á–µ–Ω–∏—è RLS
SELECT safe_disable_rls('click_analytics');
-- –í–µ—Ä–Ω–µ—Ç: "Skipped: 'click_analytics' is a VIEW. RLS cannot be disabled on views."
```

### –í–∞—Ä–∏–∞–Ω—Ç 2: –ü—Ä–æ—Å—Ç–æ –∏–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞—Ç—å –æ—à–∏–±–∫—É

–ï—Å–ª–∏ `click_analytics` - —ç—Ç–æ VIEW –∏ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∫—Ä–∏—Ç–∏—á–Ω–æ, –ø—Ä–æ—Å—Ç–æ –∏–≥–Ω–æ—Ä–∏—Ä—É–π —ç—Ç—É –æ—à–∏–±–∫—É. RLS –Ω–∞ VIEW –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è PostgreSQL.

### –í–∞—Ä–∏–∞–Ω—Ç 3: –û—Ç–∫–ª—é—á–∏—Ç—å RLS –Ω–∞ –±–∞–∑–æ–≤—ã—Ö —Ç–∞–±–ª–∏—Ü–∞—Ö

–ï—Å–ª–∏ `click_analytics` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –¥—Ä—É–≥–∏–µ —Ç–∞–±–ª–∏—Ü—ã:

1. –ü—Ä–æ–≤–µ—Ä—å, –∫–∞–∫–∏–µ —Ç–∞–±–ª–∏—Ü—ã –∏—Å–ø–æ–ª—å–∑—É–µ—Ç view:
```sql
-- –°–º. —Ñ–∞–π–ª: sql/fix-click-analytics-rls-error.sql (Step 4)
```

2. –û—Ç–∫–ª—é—á–∏ RLS –Ω–∞ –±–∞–∑–æ–≤—ã—Ö —Ç–∞–±–ª–∏—Ü–∞—Ö –≤–º–µ—Å—Ç–æ view

---

## üìù –ì–æ—Ç–æ–≤—ã–π —Å–∫—Ä–∏–ø—Ç:

–ò—Å–ø–æ–ª—å–∑—É–π —Ñ–∞–π–ª `sql/fix-click-analytics-rls-error.sql` - —Ç–∞–º –≤—Å–µ —à–∞–≥–∏ —Å–æ–±—Ä–∞–Ω—ã –≤–º–µ—Å—Ç–µ.


