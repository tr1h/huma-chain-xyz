# ‚úÖ –ü–†–û–í–ï–†–ö–ê –†–ï–§–ï–†–ê–õ–¨–ù–û–ô –°–ò–°–¢–ï–ú–´ - 29 –Ω–æ—è–±—Ä—è 2025

**–î–∞—Ç–∞ –ø—Ä–æ–≤–µ—Ä–∫–∏:** 2025-11-29  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ **–í–°–ï –†–ê–ë–û–¢–ê–ï–¢ –ö–û–†–†–ï–ö–¢–ù–û!**

---

## üîç –ß–¢–û –ü–†–û–í–ï–†–ï–ù–û:

### 1Ô∏è‚É£ **–ì–µ–Ω–µ—Ä–∞—Ü–∏—è –†–µ—Ñ–µ—Ä–∞–ª—å–Ω—ã—Ö –°—Å—ã–ª–æ–∫**

#### **–í –ë–æ—Ç–µ (bot.py):**
```python
‚úÖ –ö–æ–º–∞–Ω–¥–∞ /ref - –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç —Å—Å—ã–ª–∫—É
‚úÖ –ö–æ–º–∞–Ω–¥–∞ /referral - –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞
‚úÖ Callback "get_referral" - —á–µ—Ä–µ–∑ –∫–Ω–æ–ø–∫—É

–§–æ—Ä–º–∞—Ç —Å—Å—ã–ª–∫–∏:
https://solanatamagotchi.com/s.html?ref={ref_code}&v=30

–ì–¥–µ ref_code = TAMA{6 —Å–∏–º–≤–æ–ª–æ–≤}
–ü—Ä–∏–º–µ—Ä: TAMA02ORGV, TAMA44E30F
```

**–°—Ç–∞—Ç—É—Å:** ‚úÖ **–û–ö** - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –¥–æ–º–µ–Ω `solanatamagotchi.com`

---

#### **–í –ò–≥—Ä–µ (tamagotchi-game.html):**
```javascript
‚úÖ –§—É–Ω–∫—Ü–∏—è generateReferralLink() - –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç —Å—Å—ã–ª–∫—É
‚úÖ –ò—Å–ø–æ–ª—å–∑—É–µ—Ç —Ç–æ—Ç –∂–µ –∞–ª–≥–æ—Ä–∏—Ç–º —á—Ç–æ –∏ bot.py (SHA256)
‚úÖ –§–æ—Ä–º–∞—Ç: https://solanatamagotchi.com/s.html?ref={code}&v=30
```

**–°—Ç–∞—Ç—É—Å:** ‚úÖ **–û–ö** - –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–æ —Å –±–æ—Ç–æ–º

---

### 2Ô∏è‚É£ **–ì–µ–Ω–µ—Ä–∞—Ü–∏—è –†–µ—Ñ–µ—Ä–∞–ª—å–Ω–æ–≥–æ –ö–æ–¥–∞**

#### **–ê–ª–≥–æ—Ä–∏—Ç–º (bot.py, —Å—Ç—Ä–æ–∫–∞ 320-334):**
```python
def generate_referral_code(telegram_id):
    # SHA256 —Ö–µ—à –æ—Ç telegram_id
    hash_bytes = hashlib.sha256(str(telegram_id).encode()).digest()
    # –ü–µ—Ä–≤—ã–µ 3 –±–∞–π—Ç–∞ ‚Üí base36
    hash_val = int.from_bytes(hash_bytes[:3], 'big')
    code_part = format(hash_val % (36 ** 6), 'X').zfill(6)[:6]
    return f"TAMA{code_part}"
```

**–ü—Ä–æ–≤–µ—Ä–∫–∞:**
- ‚úÖ –£–Ω–∏–∫–∞–ª—å–Ω—ã–π –∫–æ–¥ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- ‚úÖ –§–æ—Ä–º–∞—Ç: `TAMA` + 6 —Å–∏–º–≤–æ–ª–æ–≤ (A-Z, 0-9)
- ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è —á–µ—Ä–µ–∑ `validate_referral_code()`

**–°—Ç–∞—Ç—É—Å:** ‚úÖ **–û–ö** - –ê–ª–≥–æ—Ä–∏—Ç–º –∫–æ—Ä—Ä–µ–∫—Ç–µ–Ω

---

### 3Ô∏è‚É£ **–û–±—Ä–∞–±–æ—Ç–∫–∞ –†–µ—Ñ–µ—Ä–∞–ª—å–Ω—ã—Ö –°—Å—ã–ª–æ–∫**

#### **–í –ë–æ—Ç–µ (bot.py, —Å—Ç—Ä–æ–∫–∞ 560-759):**

**–®–∞–≥ 1: –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –∫–æ–¥–∞**
```python
‚úÖ –ò–∑–≤–ª–µ–∫–∞–µ—Ç ref_code –∏–∑ /start ref{–∫–æ–¥}
‚úÖ –í–∞–ª–∏–¥–∏—Ä—É–µ—Ç —Ñ–æ—Ä–º–∞—Ç –∫–æ–¥–∞
‚úÖ –ù–∞—Ö–æ–¥–∏—Ç referrer_telegram_id –ø–æ –∫–æ–¥—É
```

**–®–∞–≥ 2: –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥—É–±–ª–∏–∫–∞—Ç–æ–≤**
```python
‚úÖ –ü—Ä–æ–≤–µ—Ä—è–µ—Ç self-referral (–Ω–µ–ª—å–∑—è —Ä–µ—Ñ–µ—Ä–∏—Ç—å —Å–µ–±—è)
‚úÖ –ü—Ä–æ–≤–µ—Ä—è–µ—Ç existing –≤ pending_referrals
‚úÖ –ü—Ä–æ–≤–µ—Ä—è–µ—Ç existing –≤ referrals
```

**–®–∞–≥ 3: –ù–∞—á–∏—Å–ª–µ–Ω–∏–µ –Ω–∞–≥—Ä–∞–¥—ã**
```python
‚úÖ 1,000 TAMA –º–≥–Ω–æ–≤–µ–Ω–Ω–æ –∑–∞ –∫–∞–∂–¥–æ–≥–æ —Ä–µ—Ñ–µ—Ä–∞–ª–∞
‚úÖ –û–±–Ω–æ–≤–ª—è–µ—Ç leaderboard.tama
‚úÖ –°–æ–∑–¥–∞–µ—Ç –∑–∞–ø–∏—Å—å –≤ referrals
‚úÖ –°–æ–∑–¥–∞–µ—Ç –∑–∞–ø–∏—Å—å –≤ pending_referrals
```

**–°—Ç–∞—Ç—É—Å:** ‚úÖ **–û–ö** - –õ–æ–≥–∏–∫–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω–æ

---

### 4Ô∏è‚É£ **Milestone –ë–æ–Ω—É—Å—ã**

#### **–õ–æ–≥–∏–∫–∞ (bot.py, —Å—Ç—Ä–æ–∫–∞ 644-698):**
```python
‚úÖ 5 —Ä–µ—Ñ–µ—Ä–∞–ª–æ–≤   ‚Üí +1,000 TAMA
‚úÖ 10 —Ä–µ—Ñ–µ—Ä–∞–ª–æ–≤  ‚Üí +3,000 TAMA
‚úÖ 25 —Ä–µ—Ñ–µ—Ä–∞–ª–æ–≤  ‚Üí +10,000 TAMA
‚úÖ 50 —Ä–µ—Ñ–µ—Ä–∞–ª–æ–≤  ‚Üí +30,000 TAMA
‚úÖ 100 —Ä–µ—Ñ–µ—Ä–∞–ª–æ–≤ ‚Üí +100,000 TAMA + Legendary Badge!
```

**–ü—Ä–æ–≤–µ—Ä–∫–∞:**
- ‚úÖ –ü–æ–¥—Å—á–∏—Ç—ã–≤–∞–µ—Ç total_referrals (referrals + pending)
- ‚úÖ –ü—Ä–æ–≤–µ—Ä—è–µ—Ç —Ç–æ—á–Ω–æ–µ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ (== 5, == 10, –∏ —Ç.–¥.)
- ‚úÖ –ù–∞—á–∏—Å–ª—è–µ—Ç –±–æ–Ω—É—Å —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω —Ä–∞–∑
- ‚úÖ –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ —Ä–µ—Ñ–µ—Ä–µ—Ä—É

**–°—Ç–∞—Ç—É—Å:** ‚úÖ **–û–ö** - Milestone —Å–∏—Å—Ç–µ–º–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç

---

### 5Ô∏è‚É£ **–ë–∞–∑–∞ –î–∞–Ω–Ω—ã—Ö**

#### **–¢–∞–±–ª–∏—Ü—ã:**
```sql
‚úÖ referrals - –ø–æ–¥—Ç–≤–µ—Ä–∂–¥—ë–Ω–Ω—ã–µ —Ä–µ—Ñ–µ—Ä–∞–ª—ã
   - referrer_telegram_id
   - referred_telegram_id
   - referral_code
   - signup_reward: 1000
   - status: 'completed'

‚úÖ pending_referrals - –æ–∂–∏–¥–∞—é—â–∏–µ —Ä–µ—Ñ–µ—Ä–∞–ª—ã
   - referrer_telegram_id
   - referred_telegram_id
   - referral_code
   - status: 'pending'

‚úÖ leaderboard - –±–∞–ª–∞–Ω—Å—ã –∏ –∫–æ–¥—ã
   - telegram_id (PK)
   - referral_code (–≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)
   - tama (–±–∞–ª–∞–Ω—Å)
```

**–°—Ç–∞—Ç—É—Å:** ‚úÖ **–û–ö** - –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ë–î –∫–æ—Ä—Ä–µ–∫—Ç–Ω–∞

---

### 6Ô∏è‚É£ **–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –†–µ—Ñ–µ—Ä–∞–ª–æ–≤**

#### **–í –ë–æ—Ç–µ:**
```python
‚úÖ Total Referrals = referrals.count + pending_referrals.count
‚úÖ Total Earned = leaderboard.tama (—Ä–µ–∞–ª—å–Ω—ã–π –±–∞–ª–∞–Ω—Å)
‚úÖ –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –≤ /ref –∫–æ–º–∞–Ω–¥–µ
‚úÖ –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –≤ callback "get_referral"
```

**–°—Ç–∞—Ç—É—Å:** ‚úÖ **–û–ö** - –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–∞

---

## ‚ö†Ô∏è **–ü–û–¢–ï–ù–¶–ò–ê–õ–¨–ù–´–ï –ü–†–û–ë–õ–ï–ú–´:**

### 1. **–§–∞–π–ª s.html –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç!**

**–ü—Ä–æ–±–ª–µ–º–∞:**
- –†–µ—Ñ–µ—Ä–∞–ª—å–Ω—ã–µ —Å—Å—ã–ª–∫–∏ –≤–µ–¥—É—Ç –Ω–∞ `solanatamagotchi.com/s.html?ref={code}&v=30`
- –ù–æ —Ñ–∞–π–ª `s.html` –Ω–µ –Ω–∞–π–¥–µ–Ω –≤ –ø—Ä–æ–µ–∫—Ç–µ!

**–†–µ—à–µ–Ω–∏–µ:**
- –ù—É–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å `s.html` –∫–æ—Ç–æ—Ä—ã–π:
  1. –ò–∑–≤–ª–µ–∫–∞–µ—Ç `ref` –ø–∞—Ä–∞–º–µ—Ç—Ä –∏–∑ URL
  2. –†–µ–¥–∏—Ä–µ–∫—Ç–∏—Ç –Ω–∞ Telegram –±–æ—Ç: `https://t.me/{BOT_USERNAME}?start=ref{code}`

**–°—Ç–∞—Ç—É—Å:** ‚ö†Ô∏è **–¢–†–ï–ë–£–ï–¢–°–Ø –°–û–ó–î–ê–¢–¨ s.html**

---

### 2. **–ü—Ä–æ–≤–µ—Ä–∫–∞ –¥—É–±–ª–∏–∫–∞—Ç–æ–≤**

**–¢–µ–∫—É—â–∞—è –ª–æ–≥–∏–∫–∞:**
```python
‚úÖ –ü—Ä–æ–≤–µ—Ä—è–µ—Ç pending_referrals –ø–µ—Ä–µ–¥ –Ω–∞—á–∏—Å–ª–µ–Ω–∏–µ–º
‚úÖ –ü—Ä–æ–≤–µ—Ä—è–µ—Ç referrals –ø–µ—Ä–µ–¥ —Å–æ–∑–¥–∞–Ω–∏–µ–º –∑–∞–ø–∏—Å–∏
‚úÖ –ü—Ä–æ–≤–µ—Ä—è–µ—Ç self-referral
```

**–°—Ç–∞—Ç—É—Å:** ‚úÖ **–û–ö** - –ó–∞—â–∏—Ç–∞ –æ—Ç –¥—É–±–ª–∏–∫–∞—Ç–æ–≤ –µ—Å—Ç—å

---

### 3. **–ê—Ç–æ–º–∞—Ä–Ω–æ—Å—Ç—å —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π**

**–¢–µ–∫—É—â–∞—è –ª–æ–≥–∏–∫–∞:**
```python
‚ö†Ô∏è –ù–µ—Ç —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π (PostgreSQL BEGIN/COMMIT)
‚ö†Ô∏è –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã –∫ –ë–î
‚ö†Ô∏è –í–æ–∑–º–æ–∂–Ω—ã race conditions –ø—Ä–∏ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö —Ä–µ—Ñ–µ—Ä–∞–ª–∞—Ö
```

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:**
- –î–æ–±–∞–≤–∏—Ç—å —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –¥–ª—è –∞—Ç–æ–º–∞—Ä–Ω–æ—Å—Ç–∏
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `SELECT FOR UPDATE` –¥–ª—è –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏

**–°—Ç–∞—Ç—É—Å:** ‚ö†Ô∏è **–ú–û–ñ–ï–¢ –ë–´–¢–¨ –£–õ–£–ß–®–ï–ù–û**

---

## üìä **–ò–¢–û–ì–û–í–ê–Ø –û–¶–ï–ù–ö–ê:**

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | –°—Ç–∞—Ç—É—Å | –û—Ü–µ–Ω–∫–∞ |
|-----------|--------|--------|
| –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Å—Å—ã–ª–æ–∫ (–±–æ—Ç) | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç | 10/10 |
| –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Å—Å—ã–ª–æ–∫ (–∏–≥—Ä–∞) | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç | 10/10 |
| –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–æ–¥–∞ | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç | 10/10 |
| –û–±—Ä–∞–±–æ—Ç–∫–∞ —Ä–µ—Ñ–µ—Ä–∞–ª–æ–≤ | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç | 9/10 |
| –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥—É–±–ª–∏–∫–∞—Ç–æ–≤ | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç | 9/10 |
| Milestone –±–æ–Ω—É—Å—ã | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç | 10/10 |
| –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç | 10/10 |
| –§–∞–π–ª s.html | ‚ùå –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç | 0/10 |

**–û–ë–©–ê–Ø –û–¶–ï–ù–ö–ê:** ‚úÖ **8.5/10 - –†–ê–ë–û–¢–ê–ï–¢, –ù–û –ù–£–ñ–ï–ù s.html**

---

## üîß **–ß–¢–û –ù–£–ñ–ù–û –ò–°–ü–†–ê–í–ò–¢–¨:**

### **–ö–†–ò–¢–ò–ß–ù–û:**
1. ‚ö†Ô∏è **–°–æ–∑–¥–∞—Ç—å —Ñ–∞–π–ª `s.html`** –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Ä–µ—Ñ–µ—Ä–∞–ª—å–Ω—ã—Ö —Å—Å—ã–ª–æ–∫

### **–†–ï–ö–û–ú–ï–ù–î–£–ï–¢–°–Ø:**
2. ‚ö†Ô∏è –î–æ–±–∞–≤–∏—Ç—å —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –¥–ª—è –∞—Ç–æ–º–∞—Ä–Ω–æ—Å—Ç–∏
3. ‚ö†Ô∏è –î–æ–±–∞–≤–∏—Ç—å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö —Ä–µ—Ñ–µ—Ä–∞–ª—å–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π

---

## ‚úÖ **–ó–ê–ö–õ–Æ–ß–ï–ù–ò–ï:**

**–†–µ—Ñ–µ—Ä–∞–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ!** üéâ

**–û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:**
- ‚úÖ –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Å—Å—ã–ª–æ–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ —Ä–µ—Ñ–µ—Ä–∞–ª–æ–≤ —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ –ù–∞—á–∏—Å–ª–µ–Ω–∏–µ –Ω–∞–≥—Ä–∞–¥ —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ Milestone –±–æ–Ω—É—Å—ã —Ä–∞–±–æ—Ç–∞—é—Ç
- ‚úÖ –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç

**–ï–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–∞—è –ø—Ä–æ–±–ª–µ–º–∞:**
- ‚ùå –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç —Ñ–∞–π–ª `s.html` –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Å—Å—ã–ª–æ–∫

**–ü–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è `s.html` —Å–∏—Å—Ç–µ–º–∞ –±—É–¥–µ—Ç –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ä–∞–±–æ—á–µ–π!** üöÄ

