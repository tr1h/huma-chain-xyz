# üîß –î–ò–ê–ì–ù–û–°–¢–ò–ö–ê –ü–†–û–ë–õ–ï–ú

## ‚ùå –ë–ê–õ–ê–ù–° –ù–ï –û–¢–û–ë–†–ê–ñ–ê–ï–¢–°–Ø

### –®–∞–≥ 1: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞ (F12)

–û—Ç–∫—Ä–æ–π—Ç–µ slots.html –∏ —Å–º–æ—Ç—Ä–∏—Ç–µ –≤ –∫–æ–Ω—Å–æ–ª—å. –î–æ–ª–∂–Ω—ã –±—ã—Ç—å –ª–æ–≥–∏:

```
‚úÖ Got user ID from Telegram WebApp: 12345678
üöÄ Initializing with user ID: 12345678
üì° Fetching balance from API: https://api.solanatamagotchi.com/api/tama/balance?telegram_id=12345678
‚úÖ Balance loaded from API: 10000
```

### –ï—Å–ª–∏ –≤–∏–¥–∏—Ç–µ:
- `‚ö†Ô∏è No user ID found, using demo mode` ‚Üí Telegram WebApp –Ω–µ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω
- `‚ùå Failed to load balance` ‚Üí –ü—Ä–æ–±–ª–µ–º–∞ —Å API
- `‚ö†Ô∏è Invalid user ID` ‚Üí User ID = 123456789 (–¥–µ–º–æ —Ä–µ–∂–∏–º)

---

## ‚úÖ –†–ï–®–ï–ù–ò–Ø:

### 1. –ï—Å–ª–∏ –Ω–µ—Ç user ID:

**–ü—Ä–æ–±–ª–µ–º–∞:** Telegram WebApp –Ω–µ –ø–µ—Ä–µ–¥–∞–ª –¥–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

**–†–µ—à–µ–Ω–∏–µ:**
- –û—Ç–∫—Ä—ã–≤–∞–π—Ç–µ slots.html —á–µ—Ä–µ–∑ –±–æ—Ç–∞: `/slots` ‚Üí "üåê Open Web Version"
- –ù–µ –æ—Ç–∫—Ä—ã–≤–∞–π—Ç–µ –Ω–∞–ø—Ä—è–º—É—é –≤ –±—Ä–∞—É–∑–µ—Ä–µ!

---

### 2. –ï—Å–ª–∏ API –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç:

**–ü—Ä–æ–±–ª–µ–º–∞:** API –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ—à–∏–±–∫—É

**–ü—Ä–æ–≤–µ—Ä–∏—Ç—å:**
```bash
# –¢–µ—Å—Ç–æ–≤—ã–π –∑–∞–ø—Ä–æ—Å –∫ API
curl "https://api.solanatamagotchi.com/api/tama/balance?telegram_id=YOUR_ID"
```

**–î–æ–ª–∂–µ–Ω –≤–µ—Ä–Ω—É—Ç—å:**
```json
{
  "balance": 10000,
  "telegram_id": "12345678"
}
```

---

### 3. –ï—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –Ω–µ—Ç –≤ –±–∞–∑–µ:

**–ü—Ä–æ–±–ª–µ–º–∞:** User –Ω–µ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω –≤ leaderboard

**–†–µ—à–µ–Ω–∏–µ:**
1. –û—Ç–∫—Ä–æ–π—Ç–µ –∏–≥—Ä—É —á–µ—Ä–µ–∑ –±–æ—Ç–∞: `/start`
2. –ü–æ–¥–∫–ª—é—á–∏—Ç–µ –∫–æ—à–µ–ª–µ–∫ (—ç—Ç–æ —Å–æ–∑–¥–∞—Å—Ç –∑–∞–ø–∏—Å—å)
3. –ò–ª–∏ –¥–æ–±–∞–≤—å—Ç–µ –≤—Ä—É—á–Ω—É—é –≤ Supabase:

```sql
INSERT INTO leaderboard (telegram_id, tama, wallet_address)
VALUES ('YOUR_TELEGRAM_ID', 10000, NULL);
```

---

## ‚ùå –î–ñ–ï–ö–ü–û–¢ –ü–£–õ –ù–ï –°–û–ó–î–ê–ù

### –®–∞–≥ 1: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ç–∞–±–ª–∏—Ü—É –≤ Supabase

–û—Ç–∫—Ä–æ–π—Ç–µ Supabase ‚Üí Table Editor ‚Üí `slots_jackpot_pool`

–î–æ–ª–∂–Ω–∞ –±—ã—Ç—å **–æ–¥–Ω–∞ —Å—Ç—Ä–æ–∫–∞**:
- id = 1
- current_pool = 0 (–∏–ª–∏ –ª—é–±–æ–µ —á–∏—Å–ª–æ)

### –ï—Å–ª–∏ —Ç–∞–±–ª–∏—Ü—ã –Ω–µ—Ç:

**–†–µ—à–µ–Ω–∏–µ:** –í—ã–ø–æ–ª–Ω–∏—Ç—å SQL:

```sql
-- –í Supabase SQL Editor
-- –°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ —Ñ–∞–π–ª–∞:
-- sql/create_slots_jackpot_pool.sql
```

---

## üß™ –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–ï –î–ñ–ï–ö–ü–û–¢–ê

### –ü—Ä–æ–≤–µ—Ä–∫–∞ 1: –ü—É–ª —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç—Å—è

```
1. –û—Ç–∫—Ä–æ–π—Ç–µ slots.html
2. –°–º–æ—Ç—Ä–∏—Ç–µ "üé∞ JACKPOT POOL"
3. –°–¥–µ–ª–∞–π—Ç–µ —Å—Ç–∞–≤–∫—É 1000 TAMA
4. –ü—É–ª –¥–æ–ª–∂–µ–Ω —É–≤–µ–ª–∏—á–∏—Ç—å—Å—è –Ω–∞ 50 TAMA (5%)
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ 2: –í—ã–∏–≥—Ä—ã—à –¥–∂–µ–∫–ø–æ—Ç–∞

```
1. –ò–∑–º–µ–Ω–∏—Ç–µ –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç–∏ –¥–ª—è —Ç–µ—Å—Ç–∞ (–≤ slots.html):
   'üé∞': 100  // –≤–º–µ—Å—Ç–æ 1
2. –°—ã–≥—Ä–∞–π—Ç–µ –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ä–∞–∑
3. –í—ã–ø–∞–¥–µ—Ç üé∞üé∞üé∞
4. –ü–æ–ª—É—á–∏—Ç–µ –≤–µ—Å—å –ø—É–ª + x100
5. –ü—É–ª —Å–±—Ä–æ—Å–∏—Ç—Å—è –≤ 0
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ 3: –ò—Å—Ç–æ—Ä–∏—è –¥–∂–µ–∫–ø–æ—Ç–∞

```sql
-- –í Supabase SQL Editor
SELECT * FROM slots_jackpot_history
ORDER BY won_at DESC
LIMIT 10;
```

–î–æ–ª–∂–Ω–∞ –ø–æ–∫–∞–∑–∞—Ç—å –≤—Å–µ –≤—ã–∏–≥—Ä—ã—à–∏ –¥–∂–µ–∫–ø–æ—Ç–∞.

---

## üìä –ú–û–ù–ò–¢–û–†–ò–ù–ì –ü–£–õ–ê

### –ß–µ—Ä–µ–∑ API:

```bash
curl "https://api.solanatamagotchi.com/api/tama/slots/jackpot"
```

**–û—Ç–≤–µ—Ç:**
```json
{
  "success": true,
  "current_pool": 1500,
  "total_contributed": 50000,
  "total_won": 48500,
  "wins_count": 3,
  "last_winner": {
    "telegram_id": "12345678",
    "username": "user123",
    "win_amount": 10000,
    "won_at": "2025-01-10T15:30:00Z"
  }
}
```

### –ß–µ—Ä–µ–∑ Supabase:

```sql
-- –¢–µ–∫—É—â–∏–π –ø—É–ª
SELECT * FROM slots_jackpot_pool WHERE id = 1;

-- –ò—Å—Ç–æ—Ä–∏—è
SELECT
  telegram_id,
  username,
  win_amount,
  won_at
FROM slots_jackpot_history
ORDER BY won_at DESC
LIMIT 20;
```

---

## üö® –ß–ê–°–¢–´–ï –û–®–ò–ë–ö–ò

### 1. "Balance: 0" —Ö–æ—Ç—è –≤ –±–∞–∑–µ –µ—Å—Ç—å TAMA

**–ü—Ä–∏—á–∏–Ω–∞:** User ID –Ω–µ —Å–æ–≤–ø–∞–¥–∞–µ—Ç

**–†–µ—à–µ–Ω–∏–µ:**
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤ –∫–æ–Ω—Å–æ–ª–∏: –∫–∞–∫–æ–π user ID –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤ –±–∞–∑–µ: –∫–∞–∫–æ–π telegram_id –≤ leaderboard
- –û–Ω–∏ –¥–æ–ª–∂–Ω—ã —Å–æ–≤–ø–∞–¥–∞—Ç—å!

### 2. –ü—É–ª –Ω–µ —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç—Å—è –ø—Ä–∏ —Å—Ç–∞–≤–∫–µ

**–ü—Ä–∏—á–∏–Ω–∞:** –¢–∞–±–ª–∏—Ü–∞ –Ω–µ —Å–æ–∑–¥–∞–Ω–∞ –∏–ª–∏ API –Ω–µ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è

**–†–µ—à–µ–Ω–∏–µ:**
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ: `SELECT * FROM slots_jackpot_pool WHERE id = 1`
- –ï—Å–ª–∏ –ø—É—Å—Ç–æ: –≤—ã–ø–æ–ª–Ω–∏—Ç–µ SQL –∏–∑ create_slots_jackpot_pool.sql

### 3. –î–∂–µ–∫–ø–æ—Ç –Ω–µ –≤—ã–ø–ª–∞—á–∏–≤–∞–µ—Ç—Å—è –ø—Ä–∏ üé∞üé∞üé∞

**–ü—Ä–∏—á–∏–Ω–∞:** –°–∏–º–≤–æ–ª—ã –Ω–µ –ø–µ—Ä–µ–¥–∞—é—Ç—Å—è –≤ API

**–†–µ—à–µ–Ω–∏–µ:**
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ console.log –≤ updateBalance()
- –î–æ–ª–∂–Ω–æ –±—ã—Ç—å: `symbols: ["üé∞", "üé∞", "üé∞"]`
- –ï—Å–ª–∏ –ø—É—Å—Ç–æ: –æ–±–Ω–æ–≤–∏—Ç–µ slots.html (—É–∂–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ)

---

## üìû –ù–£–ñ–ù–ê –ü–û–ú–û–©–¨?

1. –û—Ç–∫—Ä–æ–π—Ç–µ –∫–æ–Ω—Å–æ–ª—å (F12)
2. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –≤—Å–µ –ª–æ–≥–∏
3. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –æ—à–∏–±–∫–∏ (–µ—Å–ª–∏ –µ—Å—Ç—å)
4. –ü–æ–∫–∞–∂–∏—Ç–µ –º–Ω–µ ‚Äî –ø–æ–º–æ–≥—É —Ä–∞–∑–æ–±—Ä–∞—Ç—å—Å—è!

