# üíé Marketplace SOL Payment Support

## ‚úÖ –ß—Ç–æ –¥–æ–±–∞–≤–ª–µ–Ω–æ:

### **1. SQL –°—Ö–µ–º–∞:**
- ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ `price_sol` –≤ `marketplace_listings`
- ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ `payment_type` ('tama', 'sol', 'both')
- ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω–∞ —Ç–∞–±–ª–∏—Ü–∞ `marketplace_sales` –¥–ª—è SOL –ø–ª–∞—Ç–µ–∂–µ–π

### **2. API Endpoints:**
- ‚úÖ `POST /api/tama/marketplace/list` - —Ç–µ–ø–µ—Ä—å –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç `payment_type` –∏ `price_sol`
- ‚úÖ `POST /api/tama/marketplace/buy` - —Ç–µ–ø–µ—Ä—å –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –ø–æ–∫—É–ø–∫—É –∑–∞ SOL

### **3. Frontend:**
- ‚úÖ –í—ã–±–æ—Ä –≤–∞–ª—é—Ç—ã –ø—Ä–∏ —Ä–∞–∑–º–µ—â–µ–Ω–∏–∏ NFT (TAMA, SOL, –∏–ª–∏ –æ–±–∞)
- ‚úÖ –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ü–µ–Ω—ã –≤ SOL –≤ —Å–ø–∏—Å–∫–µ NFT
- ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –ø–æ–∫—É–ø–∫–∏ –∑–∞ SOL (—Ç—Ä–µ–±—É–µ—Ç –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å Phantom wallet)

---

## üìã –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:

### **–†–∞–∑–º–µ—Å—Ç–∏—Ç—å NFT –∑–∞ SOL:**
```javascript
POST /api/tama/marketplace/list
{
  "telegram_id": "123456789",
  "nft_id": 42,
  "payment_type": "sol",
  "price_sol": 0.1
}
```

### **–†–∞–∑–º–µ—Å—Ç–∏—Ç—å NFT –∑–∞ TAMA –∏ SOL:**
```javascript
POST /api/tama/marketplace/list
{
  "telegram_id": "123456789",
  "nft_id": 42,
  "payment_type": "both",
  "price": 10000,
  "price_sol": 0.1
}
```

### **–ö—É–ø–∏—Ç—å NFT –∑–∞ SOL:**
```javascript
POST /api/tama/marketplace/buy
{
  "telegram_id": "987654321",
  "listing_id": 1,
  "payment_type": "sol",
  "buyer_wallet": "BuyerWalletAddress",
  "seller_wallet": "SellerWalletAddress",
  "transaction_signature": "SolanaTxSignature"
}
```

---

## ‚ö†Ô∏è –í–∞–∂–Ω–æ:

1. **SOL –ø–ª–∞—Ç–µ–∂–∏ —Ç—Ä–µ–±—É—é—Ç on-chain —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π:**
   - –ü–æ–∫—É–ø–∞—Ç–µ–ª—å –¥–æ–ª–∂–µ–Ω –æ—Ç–ø—Ä–∞–≤–∏—Ç—å SOL —á–µ—Ä–µ–∑ Phantom wallet
   - –¢—Ä–∞–Ω–∑–∞–∫—Ü–∏—è –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∞ –Ω–∞ –±–ª–æ–∫—á–µ–π–Ω–µ
   - `transaction_signature` –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –≤–∞–ª–∏–¥–Ω—ã–º

2. **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Phantom:**
   - Frontend –¥–æ–ª–∂–µ–Ω –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ Phantom wallet
   - –°–æ–∑–¥–∞—Ç—å —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—é –æ—Ç–ø—Ä–∞–≤–∫–∏ SOL
   - –ü–æ–ª—É—á–∏—Ç—å –ø–æ–¥–ø–∏—Å—å —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏
   - –û—Ç–ø—Ä–∞–≤–∏—Ç—å –ø–æ–¥–ø–∏—Å—å –≤ API

3. **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å:**
   - –í—Å–µ–≥–¥–∞ –ø—Ä–æ–≤–µ—Ä—è–π—Ç–µ `transaction_signature` –Ω–∞ –±–ª–æ–∫—á–µ–π–Ω–µ
   - –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ –ø—Ä–æ–∏–∑–æ—à–ª–∞
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—É–º–º—É –∏ –ø–æ–ª—É—á–∞—Ç–µ–ª—è

---

## üîÑ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏:

1. **–ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å Phantom wallet** –≤ `marketplace.html`
2. **–°–æ–∑–¥–∞—Ç—å —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—é SOL** –ø—Ä–∏ –ø–æ–∫—É–ø–∫–µ
3. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—é** –Ω–∞ –±–ª–æ–∫—á–µ–π–Ω–µ –ø–µ—Ä–µ–¥ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ–º –ø–æ–∫—É–ø–∫–∏
4. **–û–±–Ω–æ–≤–∏—Ç—å –±–∞–ª–∞–Ω—Å SOL** –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)

---

## üìù –ü—Ä–∏–º–µ—á–∞–Ω–∏—è:

- TAMA –ø–ª–∞—Ç–µ–∂–∏ —Ä–∞–±–æ—Ç–∞—é—Ç –ø–æ–ª–Ω–æ—Å—Ç—å—é off-chain (—á–µ—Ä–µ–∑ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö)
- SOL –ø–ª–∞—Ç–µ–∂–∏ —Ç—Ä–µ–±—É—é—Ç on-chain —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π
- –ö–æ–º–∏—Å—Å–∏—è –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã (5%) –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –∫ –æ–±–æ–∏–º —Ç–∏–ø–∞–º –ø–ª–∞—Ç–µ–∂–µ–π

