# üîß Railway PHP Setup - Fix "php: command not found"

## üêõ –ü—Ä–æ–±–ª–µ–º–∞

```
/bin/bash: line 1: php: command not found
```

**–ü—Ä–∏—á–∏–Ω–∞:** Railway –Ω–µ –∑–Ω–∞–µ—Ç, —á—Ç–æ —ç—Ç–æ PHP –ø—Ä–æ–µ–∫—Ç –∏ –Ω–µ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç PHP.

---

## ‚úÖ –†–µ—à–µ–Ω–∏–µ: –ò—Å–ø–æ–ª—å–∑—É–π Nixpacks

Railway –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–ø—Ä–µ–¥–µ–ª–∏—Ç PHP –ø—Ä–æ–µ–∫—Ç —á–µ—Ä–µ–∑ `nixpacks.toml`.

### –§–∞–π–ª `nixpacks.toml` (–£–ñ–ï –°–û–ó–î–ê–ù):

```toml
[phases.setup]
nixPkgs = ["php82", "php82Packages.composer"]

[phases.install]
cmds = ["composer install --no-dev --optimize-autoloader || true"]

[start]
cmd = "php -S 0.0.0.0:$PORT -t . api/tama_supabase.php"
```

–≠—Ç–æ—Ç —Ñ–∞–π–ª –≥–æ–≤–æ—Ä–∏—Ç Railway:
1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å PHP 8.2
2. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å Composer (–µ—Å–ª–∏ –Ω—É–∂–µ–Ω)
3. –ó–∞–ø—É—Å—Ç–∏—Ç—å PHP –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π —Å–µ—Ä–≤–µ—Ä

---

## üîÑ –ß—Ç–æ –¥–µ–ª–∞—Ç—å —Å–µ–π—á–∞—Å:

### 1. –ó–∞–∫–æ–º–º–∏—Ç—å —Ñ–∞–π–ª—ã (–£–ñ–ï –°–î–ï–õ–ê–ù–û)

–§–∞–π–ª—ã —É–∂–µ —Å–æ–∑–¥–∞–Ω—ã:
- ‚úÖ `nixpacks.toml` - –¥–ª—è Nixpacks
- ‚úÖ `Dockerfile` - –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞ (–µ—Å–ª–∏ Nixpacks –Ω–µ —Å—Ä–∞–±–æ—Ç–∞–µ—Ç)
- ‚úÖ `Procfile` - –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞ –¥–ª—è Heroku-style

### 2. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å deployment –≤ Railway

1. –û—Ç–∫—Ä–æ–π Railway Dashboard
2. –í—ã–±–µ—Ä–∏ –ø—Ä–æ–µ–∫—Ç ‚Üí Service
3. –ù–∞–∂–º–∏ **"Redeploy"** –∏–ª–∏ **"Deploy"**

Railway –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:
- –û–±–Ω–∞—Ä—É–∂–∏—Ç `nixpacks.toml`
- –£—Å—Ç–∞–Ω–æ–≤–∏—Ç PHP 8.2
- –ó–∞–ø—É—Å—Ç–∏—Ç —Å–µ—Ä–≤–µ—Ä

---

## üß™ –ü—Ä–æ–≤–µ—Ä–∫–∞:

–ü–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ –ø—Ä–æ–≤–µ—Ä—å –ª–æ–≥–∏ –≤ Railway:

1. –û—Ç–∫—Ä–æ–π Railway Dashboard ‚Üí Service ‚Üí Logs
2. **–û–∂–∏–¥–∞–µ–º—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è:**
   ```
   Installing PHP 8.2...
   Starting PHP server on port $PORT...
   PHP 8.2.0 Development Server started
   ```

3. **–ù–ï –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å:**
   ```
   ‚ùå php: command not found
   ```

---

## üîÑ –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã:

### –í–∞—Ä–∏–∞–Ω—Ç 1: Dockerfile (–µ—Å–ª–∏ Nixpacks –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç)

Railway –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `Dockerfile`, –µ—Å–ª–∏ –æ–Ω –µ—Å—Ç—å.

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- –ü–æ–ª–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å –Ω–∞–¥ –æ–∫—Ä—É–∂–µ–Ω–∏–µ–º
- –ú–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Apache/Nginx

**–ù–µ–¥–æ—Å—Ç–∞—Ç–∫–∏:**
- –ë–æ–ª—å—à–µ —Ä–∞–∑–º–µ—Ä –æ–±—Ä–∞–∑–∞
- –î–æ–ª—å—à–µ —Å–±–æ—Ä–∫–∞

### –í–∞—Ä–∏–∞–Ω—Ç 2: Procfile (Heroku-style)

Railway —Ç–∞–∫–∂–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç `Procfile`:

```
web: php -S 0.0.0.0:$PORT -t . api/tama_supabase.php
```

---

## üìä –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:

1. **`nixpacks.toml`** - –æ—Å–Ω–æ–≤–Ω–æ–π (–±—ã—Å—Ç—Ä—ã–π, –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π)
2. **`Dockerfile`** - –µ—Å–ª–∏ Nixpacks –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç
3. **`Procfile`** - –µ—Å–ª–∏ –Ω—É–∂–µ–Ω Heroku-style

---

## ‚úÖ –ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:

- ‚úÖ PHP —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
- ‚úÖ –°–µ—Ä–≤–µ—Ä –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è
- ‚úÖ API –æ—Ç–≤–µ—á–∞–µ—Ç
- ‚úÖ –ù–µ—Ç –æ—à–∏–±–æ–∫ "command not found"

---

## üéØ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏:

1. **–î–æ–±–∞–≤—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è** –≤ Railway (–µ—Å–ª–∏ –µ—â—ë –Ω–µ –¥–æ–±–∞–≤–∏–ª):
   - `SUPABASE_URL`
   - `SUPABASE_KEY`
   - `TAMA_MINT_ADDRESS`

2. **–ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏ deployment** –≤ Railway

3. **–ü—Ä–æ–≤–µ—Ä—å –ª–æ–≥–∏** - –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å "PHP server started"

4. **–ü—Ä–æ–≤–µ—Ä—å API:**
   ```
   curl https://huma-chain-xyz-production.up.railway.app/api/tama/test
   ```

---

**Status:** ‚úÖ FIXED - Configuration files created  
**Date:** November 7, 2025  
**Next Step:** Redeploy in Railway Dashboard

