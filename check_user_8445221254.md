# üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è 8445221254

## –ü—Ä–æ–±–ª–µ–º–∞
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å `telegram_id = "8445221254"` **–ù–ï –ù–ê–ô–î–ï–ù** –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö Supabase!

–≠—Ç–æ –æ–±—ä—è—Å–Ω—è–µ—Ç, –ø–æ—á–µ–º—É —Ä–∞–∑–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –Ω–∞ —Ä–∞–∑–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö:
- –í–µ–± Telegram: 10 lvl (localStorage)
- –ö–æ–º–ø—å—é—Ç–µ—Ä Telegram: 1 lvl (localStorage)
- –¢–µ–ª–µ—Ñ–æ–Ω: 4 lvl (localStorage)

–ö–∞–∂–¥–æ–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Å–≤–æ–π `localStorage`, –¥–∞–Ω–Ω—ã–µ –Ω–µ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É—é—Ç—Å—è —á–µ—Ä–µ–∑ Supabase.

---

## –ß—Ç–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å

### 1. –ü—Ä–æ–≤–µ—Ä—å –ª–æ–≥–∏ Render (API)

1. –û—Ç–∫—Ä–æ–π [Render Dashboard](https://dashboard.render.com/)
2. –ù–∞–π–¥–∏ —Å–µ—Ä–≤–∏—Å API (huma-chain-xyz)
3. –û—Ç–∫—Ä–æ–π "Logs"
4. –ò—â–∏ –∑–∞–ø–∏—Å–∏ —Å `user_id=8445221254`:
   ```
   üíæ Leaderboard upsert request: user_id=8445221254
   ```

**–ï—Å–ª–∏ –ù–ï–¢ —Ç–∞–∫–∏—Ö –ª–æ–≥–æ–≤** ‚Üí –∏–≥—Ä–∞ –ù–ï –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –∑–∞–ø—Ä–æ—Å—ã –Ω–∞ —Å–µ—Ä–≤–µ—Ä!

### 2. –ü—Ä–æ–≤–µ—Ä—å –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞

–û—Ç–∫—Ä–æ–π –∏–≥—Ä—É –Ω–∞ –ª—é–±–æ–º —É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ:

1. –û—Ç–∫—Ä–æ–π –∫–æ–Ω—Å–æ–ª—å (`F12`)
2. –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—É
3. –ò—â–∏ –≤ –ª–æ–≥–∞—Ö:

```javascript
// –ü—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ:
üîç Loading from Supabase with userId: 8445221254 (type: string)
üì¶ Supabase response data: []  // ‚ö†Ô∏è –ü–£–°–¢–û!
üìä Found 0 record(s) for user 8445221254
üíæ Loading from localStorage (fallback - Supabase failed)

// –ü—Ä–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–∏ (–ø–æ—Å–ª–µ –∫–ª–∏–∫–∞):
üíæ Saving to Supabase with userId: 8445221254 (type: string)
üì§ Sending to API: {user_id: '8445221254', level: 10, tama: 51717}
‚úÖ Saved via API: {...}  // –∏–ª–∏ ‚ùå –æ—à–∏–±–∫–∞
```

### 3. –ü—Ä–æ–≤–µ—Ä—å, —á—Ç–æ API –¥–æ—Å—Ç—É–ø–µ–Ω

–û—Ç–∫—Ä–æ–π –≤ –±—Ä–∞—É–∑–µ—Ä–µ:
```
https://huma-chain-xyz.onrender.com/api/tama/leaderboard/top?limit=10
```

–î–æ–ª–∂–µ–Ω –≤–µ—Ä–Ω—É—Ç—å JSON —Å —Ç–æ–ø-10 –∏–≥—Ä–æ–∫–æ–≤.

**–ï—Å–ª–∏ –æ—à–∏–±–∫–∞** ‚Üí API –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç!

---

## –ö–∞–∫ –∏—Å–ø—Ä–∞–≤–∏—Ç—å

### –í–∞—Ä–∏–∞–Ω—Ç 1: –°–æ–∑–¥–∞—Ç—å –∑–∞–ø–∏—Å—å –≤—Ä—É—á–Ω—É—é

–ï—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Ä–µ–∞–ª—å–Ω–æ –∏–≥—Ä–∞–µ—Ç, –Ω–æ –Ω–µ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è, —Å–æ–∑–¥–∞–π –∑–∞–ø–∏—Å—å –≤—Ä—É—á–Ω—É—é:

1. –û—Ç–∫—Ä–π Supabase Dashboard
2. –¢–∞–±–ª–∏—Ü–∞ `leaderboard`
3. "Insert" ‚Üí "Insert row"
4. –ó–∞–ø–æ–ª–Ω–∏:
   ```json
   {
     "telegram_id": "8445221254",
     "telegram_username": "user_8445221254",
     "wallet_address": "telegram_8445221254",
     "level": 10,
     "tama": 51717,
     "xp": 100,
     "pet_name": "Gotchi",
     "pet_type": "kawai",
     "pet_data": "{\"hp\": 100, \"food\": 100, \"happy\": 100}",
     "last_activity": "2025-11-09T12:00:00Z"
   }
   ```
5. "Save"

### –í–∞—Ä–∏–∞–Ω—Ç 2: –ò—Å–ø—Ä–∞–≤–∏—Ç—å –∫–æ–¥ (–µ—Å–ª–∏ API –Ω–µ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è)

–ï—Å–ª–∏ –ø—Ä–æ–±–ª–µ–º–∞ –≤ –∫–æ–¥–µ, –Ω—É–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å:
- –í—ã–∑—ã–≤–∞–µ—Ç—Å—è –ª–∏ `saveDirectToSupabase()` –ø–æ—Å–ª–µ –¥–µ–π—Å—Ç–≤–∏–π
- –ü—Ä–∞–≤–∏–ª—å–Ω–æ –ª–∏ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è `window.TELEGRAM_USER_ID`
- –î–æ—Ö–æ–¥—è—Ç –ª–∏ –∑–∞–ø—Ä–æ—Å—ã –¥–æ API

---

## –°—Ä–æ—á–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è

1. **–û—Ç–∫—Ä–æ–π Render Logs** ‚Üí –∏—â–∏ `user_id=8445221254`
2. **–û—Ç–∫—Ä–æ–π –∫–æ–Ω—Å–æ–ª—å –Ω–∞ –ª—é–±–æ–º —É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ** ‚Üí –∏—â–∏ –æ—à–∏–±–∫–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è
3. **–û—Ç–ø—Ä–∞–≤—å –º–Ω–µ:**
   - –°–∫—Ä–∏–Ω—à–æ—Ç –ª–æ–≥–æ–≤ Render (–µ—Å–ª–∏ –µ—Å—Ç—å)
   - –°–∫—Ä–∏–Ω—à–æ—Ç –∫–æ–Ω—Å–æ–ª–∏ –±—Ä–∞—É–∑–µ—Ä–∞ (–ø–æ—Å–ª–µ –∫–ª–∏–∫–∞ –Ω–∞ –ø–∏—Ç–æ–º—Ü–∞)
   - –ï—Å—Ç—å –ª–∏ –æ—à–∏–±–∫–∏ –≤ –∫–æ–Ω—Å–æ–ª–∏?

---

## –¢–µ—Å—Ç–æ–≤—ã–π –∑–∞–ø—Ä–æ—Å

–ü–æ–ø—Ä–æ–±—É–π –≤—Ä—É—á–Ω—É—é –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –∑–∞–ø—Ä–æ—Å –Ω–∞ API:

```javascript
// –í –∫–æ–Ω—Å–æ–ª–∏ –±—Ä–∞—É–∑–µ—Ä–∞:
fetch('https://huma-chain-xyz.onrender.com/api/tama/leaderboard/upsert', {
  method: 'POST',
  headers: { 'Content-Type': 'application/json' },
  body: JSON.stringify({
    user_id: '8445221254',
    user_type: 'telegram',
    telegram_username: 'test_user',
    tama: 1000,
    level: 5,
    xp: 100,
    pet_data: {hp: 100, food: 100, happy: 100},
    pet_name: 'Gotchi',
    pet_type: 'kawai',
    skip_transaction_log: true
  })
})
.then(r => r.json())
.then(d => console.log('‚úÖ API Response:', d))
.catch(e => console.error('‚ùå API Error:', e));
```

–ï—Å–ª–∏ –æ—Ç–≤–µ—Ç `‚úÖ` ‚Üí API —Ä–∞–±–æ—Ç–∞–µ—Ç, –ø—Ä–æ–±–ª–µ–º–∞ –≤ –∏–≥—Ä–µ.
–ï—Å–ª–∏ –æ—Ç–≤–µ—Ç `‚ùå` ‚Üí API –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç!

